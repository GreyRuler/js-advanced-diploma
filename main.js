!function(){"use strict";var e={905:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.level=0,this.attack=0,this.defence=0,this.health=50,this.type=t,this.attackRange=0,this.movementRange=0;for(var n=0;n<e;n++)this.levelUP()}return e.prototype.toString=function(){return"üéñ ".concat(this.level," ‚öî ").concat(this.attack," üõ° ").concat(this.defence," ‚ù§ ").concat(this.health)},e.prototype.levelUP=function(){this.level?(this.health>20?this.health=100:this.health+=80,this.level+=1,this.attack=this.improvingPerformance(this.attack),this.defence=this.improvingPerformance(this.defence)):this.level+=1},e.prototype.improvingPerformance=function(e){return Math.max(e,e*(80+this.health)/100)},e}();t.default=n},241:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(58)),i=n(460),o=r(n(591)),l=n(605),c=r(n(992)),s=r(n(982)),u=function(){function e(e,t){this.gamePlay=e,this.stateService=t,this.themes=new c.default("prairie")}return e.prototype.init=function(){var e=this;this.gamePlay.drawUi(this.themes.currentTheme);var t=this.gamePlay.boardSize,n=(0,i.generatePositionedAllies)(t),r=(0,i.generatePositionedEnemies)(t);this.positionedCharacters=n.concat(r),this.gamePlay.redrawPositions(this.positionedCharacters),this.gamePlay.addCellClickListener(this.onCellClick.bind(this)),this.gamePlay.addCellEnterListener(this.onCellEnter.bind(this)),this.gamePlay.addCellLeaveListener(this.onCellLeave.bind(this)),this.gamePlay.addNewGameListener((function(){return e.init()})),this.gamePlay.addSaveGameListener((function(){var t={characters:e.positionedCharacters,theme:e.themes.currentTheme};e.stateService.save(t)})),this.gamePlay.addLoadGameListener((function(){var t=e.stateService.load();if(t){var n=s.default.from(t);e.themes=new c.default(n.theme),e.gamePlay.drawUi(e.themes.currentTheme),e.positionedCharacters=n.characters,e.gamePlay.redrawPositions(e.positionedCharacters)}}))},e.prototype.onCellClick=function(e){var t,n,r,c,s,u,d=this,h=null===(t=this.positionedCharacters)||void 0===t?void 0:t.find((function(t){return t.position===e}));if((null==h?void 0:h.character)&&["bowman","swordsman","magician"].includes(h.character.type))(null===(n=this.gamePlay.currentCharacter)||void 0===n?void 0:n.position)&&this.gamePlay.deselectCell(this.gamePlay.currentCharacter.position),this.gamePlay.currentCharacter=h,this.gamePlay.selectCell(e);else if(this.gamePlay.currentCharacter)if((0,i.attackRadius)(null===(r=this.gamePlay.currentCharacter)||void 0===r?void 0:r.position,null===(c=this.gamePlay.currentCharacter)||void 0===c?void 0:c.character.attackRange,this.gamePlay.boardSize).includes(e)&&(null==h?void 0:h.character)&&["daemon","undead","vampire"].includes(h.character.type)){this.gamePlay.deselectCell(this.gamePlay.currentCharacter.position);var f=(0,l.dealDamage)(this.gamePlay.currentCharacter.character,h.character);h.character.health-=f,this.gamePlay.showDamage(e,"".concat(f)).then((function(){var e;d.deathCharacter(h.character),d.gamePlay.redrawPositions(d.positionedCharacters);var t=d.enemies();if(d.gamePlay.currentCharacter=void 0,d.gamePlay.setCursor(o.default.auto),t&&t.length)d.attackEnemy();else{var n=d.allies();null==n||n.forEach((function(e){e.character.levelUP()}));var r=d.gamePlay.boardSize,a=(0,i.generatePositionedEnemies)(r);d.positionedCharacters=null===(e=d.positionedCharacters)||void 0===e?void 0:e.concat(a);var l=d.themes.next();"prairie"!==l?(d.gamePlay.drawUi(l),d.gamePlay.redrawPositions(d.positionedCharacters)):d.gamePlay.clearEvents()}}))}else(0,i.movementRadius)(null===(s=this.gamePlay.currentCharacter)||void 0===s?void 0:s.position,null===(u=this.gamePlay.currentCharacter)||void 0===u?void 0:u.character.movementRange,this.gamePlay.boardSize).includes(e)&&!(null==h?void 0:h.character)?(this.gamePlay.deselectCell(e),this.gamePlay.deselectCell(this.gamePlay.currentCharacter.position),this.gamePlay.currentCharacter.position=e,this.gamePlay.redrawPositions(this.positionedCharacters),this.gamePlay.currentCharacter=void 0,this.gamePlay.setCursor(o.default.auto),this.attackEnemy()):a.default.showError("–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ");else a.default.showError("–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞")},e.prototype.onCellEnter=function(e){var t,n,r,a,l,c,s,u,d=null===(n=null===(t=this.positionedCharacters)||void 0===t?void 0:t.find((function(t){return t.position===e})))||void 0===n?void 0:n.character;d&&this.gamePlay.showCellTooltip(d.toString(),e),this.gamePlay.currentCharacter&&(["bowman","swordsman","magician"].includes(null!==(r=null==d?void 0:d.type)&&void 0!==r?r:"")?this.gamePlay.setCursor(o.default.pointer):["daemon","undead","vampire"].includes(null!==(a=null==d?void 0:d.type)&&void 0!==a?a:"")?(0,i.attackRadius)(null===(l=this.gamePlay.currentCharacter)||void 0===l?void 0:l.position,null===(c=this.gamePlay.currentCharacter)||void 0===c?void 0:c.character.attackRange,this.gamePlay.boardSize).includes(e)?(this.gamePlay.setCursor(o.default.crosshair),this.gamePlay.selectCell(e,"red")):this.gamePlay.setCursor(o.default.notallowed):(0,i.movementRadius)(null===(s=this.gamePlay.currentCharacter)||void 0===s?void 0:s.position,null===(u=this.gamePlay.currentCharacter)||void 0===u?void 0:u.character.movementRange,this.gamePlay.boardSize).includes(e)?(this.gamePlay.setCursor(o.default.pointer),this.gamePlay.selectCell(e,"green")):this.gamePlay.setCursor(o.default.notallowed))},e.prototype.onCellLeave=function(e){var t,n;this.gamePlay.hideCellTooltip(e),e!==(null===(n=null===(t=this.gamePlay)||void 0===t?void 0:t.currentCharacter)||void 0===n?void 0:n.position)&&this.gamePlay.deselectCell(e)},e.prototype.attackEnemy=function(){var e,t=this,n=this.allies(),r=this.enemies(),a=null==n?void 0:n.reduce((function(e,n){var a=null==r?void 0:r.filter((function(e){return(0,i.attackRadius)(e.position,e.character.attackRange,t.gamePlay.boardSize).includes(n.position)}));if(null==a?void 0:a.length){var o=[n,a];e.push(o)}return e}),[]);if(null==a?void 0:a.length){var o=(0,l.randomElementFromArray)(a),c=o[0],s=o[1],u=(0,l.randomElementFromArray)(s),d=(0,l.dealDamage)(u.character,c.character);c.character.health-=d,this.gamePlay.showDamage(c.position,"".concat(d)).then((function(){var e;t.deathCharacter(c.character),t.gamePlay.redrawPositions(t.positionedCharacters),(null===(e=t.allies())||void 0===e?void 0:e.length)||t.gamePlay.clearEvents()}))}else if(r){var h=(0,l.randomElementFromArray)(r),f=(0,i.movementRadius)(h.position,h.character.movementRange,this.gamePlay.boardSize),p=null===(e=this.positionedCharacters)||void 0===e?void 0:e.map((function(e){return e.position})),v=f.filter((function(e){return!(null==p?void 0:p.includes(e))}));h.position=(0,l.randomElementFromArray)(v)}},e.prototype.deathCharacter=function(e){var t;e.health<=0&&(this.positionedCharacters=null===(t=this.positionedCharacters)||void 0===t?void 0:t.filter((function(t){return t.character!==e})))},e.prototype.allies=function(){var e;return null===(e=this.positionedCharacters)||void 0===e?void 0:e.filter((function(e){return["bowman","swordsman","magician"].includes(e.character.type)}))},e.prototype.enemies=function(){var e;return null===(e=this.positionedCharacters)||void 0===e?void 0:e.filter((function(e){return!["bowman","swordsman","magician"].includes(e.character.type)}))},e}();t.default=u},58:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(605),a=function(){function e(e){if(!e)throw Error("Container is null");this.container=e,this.boardSize=8,this.cells=[],this.cellClickListeners=[],this.cellEnterListeners=[],this.cellLeaveListeners=[],this.newGameListeners=[],this.saveGameListeners=[],this.loadGameListeners=[]}return e.prototype.drawUi=function(e){var t=this;this.container.innerHTML='\n\t\t\t<div class="controls">\n\t\t\t\t<button data-id="action-restart" class="btn">New Game</button>\n\t\t\t\t<button data-id="action-save" class="btn">Save Game</button>\n\t\t\t\t<button data-id="action-load" class="btn">Load Game</button>\n\t\t\t</div>\n\t\t\t<div class="board-container">\n\t\t\t\t<div data-id="board" class="board"></div>\n\t\t\t</div>\n\t\t',this.newGameEl=this.container.querySelector("[data-id=action-restart]"),this.saveGameEl=this.container.querySelector("[data-id=action-save]"),this.loadGameEl=this.container.querySelector("[data-id=action-load]"),this.newGameEl.addEventListener("click",(function(e){return t.onNewGameClick(e)})),this.saveGameEl.addEventListener("click",(function(e){return t.onSaveGameClick(e)})),this.loadGameEl.addEventListener("click",(function(e){return t.onLoadGameClick(e)}));var n=this.container.querySelector("[data-id=board]");this.boardEl=n,this.boardEl.classList.add(e),this.cells.length=0;for(var a=0;a<Math.pow(this.boardSize,2);a+=1){var i=document.createElement("div");i.classList.add("cell","map-tile","map-tile-".concat((0,r.calcTileType)(a,this.boardSize))),i.addEventListener("mouseenter",(function(e){return t.onCellEnter(e)})),i.addEventListener("mouseleave",(function(e){return t.onCellLeave(e)})),i.addEventListener("click",(function(e){return t.onCellClick(e)})),this.boardEl.appendChild(i),this.cells.push(i)}},e.prototype.redrawPositions=function(e){for(var t=0,n=this.cells;t<n.length;t++)n[t].innerHTML="";for(var a=0,i=e;a<i.length;a++){var o=i[a],l=this.cells[o.position],c=document.createElement("div");c.classList.add("character",o.character.type);var s=document.createElement("div");s.classList.add("health-level");var u=document.createElement("div");u.classList.add("health-level-indicator","health-level-indicator-".concat((0,r.calcHealthLevel)(o.character.health))),u.style.width="".concat(o.character.health,"%"),s.appendChild(u),c.appendChild(s),l.appendChild(c)}},e.prototype.addCellEnterListener=function(e){this.cellEnterListeners.push(e)},e.prototype.addCellLeaveListener=function(e){this.cellLeaveListeners.push(e)},e.prototype.addCellClickListener=function(e){this.cellClickListeners.push(e)},e.prototype.addNewGameListener=function(e){this.newGameListeners.push(e)},e.prototype.addSaveGameListener=function(e){this.saveGameListeners.push(e)},e.prototype.addLoadGameListener=function(e){this.loadGameListeners.push(e)},e.prototype.onCellEnter=function(e){e.preventDefault();var t=this.cells.indexOf(e.currentTarget);this.cellEnterListeners.forEach((function(e){return e.call(null,t)}))},e.prototype.onCellLeave=function(e){e.preventDefault();var t=this.cells.indexOf(e.currentTarget);this.cellLeaveListeners.forEach((function(e){return e.call(null,t)}))},e.prototype.onCellClick=function(e){var t=this.cells.indexOf(e.currentTarget);this.cellClickListeners.forEach((function(e){return e.call(null,t)}))},e.prototype.onNewGameClick=function(e){e.preventDefault(),this.newGameListeners.forEach((function(e){return e.call(null)}))},e.prototype.onSaveGameClick=function(e){e.preventDefault(),this.saveGameListeners.forEach((function(e){return e.call(null)}))},e.prototype.onLoadGameClick=function(e){e.preventDefault(),this.loadGameListeners.forEach((function(e){return e.call(null)}))},e.showError=function(e){alert(e)},e.showMessage=function(e){alert(e)},e.prototype.selectCell=function(e,t){void 0===t&&(t="yellow"),this.deselectCell(e),this.cells[e].classList.add("selected","selected-".concat(t))},e.prototype.deselectCell=function(e){var t,n=this.cells[e];(t=n.classList).remove.apply(t,Array.from(n.classList).filter((function(e){return e.startsWith("selected")})))},e.prototype.showCellTooltip=function(e,t){this.cells[t].title=e},e.prototype.hideCellTooltip=function(e){this.cells[e].title=""},e.prototype.showDamage=function(e,t){var n=this;return new Promise((function(r){var a=n.cells[e],i=document.createElement("span");i.textContent=t,i.classList.add("damage"),a.appendChild(i),i.addEventListener("animationend",(function(){a.removeChild(i),r()}))}))},e.prototype.setCursor=function(e){this.boardEl&&(this.boardEl.style.cursor=e)},e.prototype.clearEvents=function(){this.cells.forEach((function(e){var t=e.cloneNode(!0);e.replaceWith(t)}))},e}();t.default=a},982:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.from=function(e){var t=e.characters;return{theme:e.theme,characters:t}},e}();t.default=n},370:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(212)),i=r(n(164)),o=r(n(418)),l=r(n(52)),c=r(n(590)),s=r(n(732)),u=r(n(127)),d=r(n(58)),h=function(){function e(e){this.storage=e}return e.prototype.save=function(e){this.storage.setItem("state",JSON.stringify(e))},e.prototype.load=function(){var e;try{var t=JSON.parse(null!==(e=this.storage.getItem("state"))&&void 0!==e?e:""),n=t.characters.map((function(e){var t=[i.default,o.default,l.default,c.default,s.default,u.default],n=t.findIndex((function(t){return t.name.toLowerCase()===e.character.type})),r=new t[n](e.character.level);return r.level=e.character.level,r.health=e.character.health,r.attack=e.character.attack,r.defence=e.character.defence,new a.default(r,e.position)}));return{theme:t.theme,characters:n}}catch(e){return void d.default.showError("–£ –í–∞—Å –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π")}},e}();t.default=h},212:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){this.character=e,this.position=t}},918:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._characters=e}return Object.defineProperty(e.prototype,"characters",{get:function(){return this._characters},enumerable:!1,configurable:!0}),e}();t.default=n},866:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(58)),i=r(n(241)),o=r(n(370)),l=document.querySelector("#game-container"),c=new a.default(l),s=new o.default(localStorage);new i.default(c,s).init()},164:function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){void 0===n&&(n="bowman");var r=e.call(this,t,n)||this;return r.attack=25,r.defence=25,r.attackRange=2,r.movementRange=2,r}return a(t,e),t}(i(n(905)).default);t.default=o},418:function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){void 0===n&&(n="magician");var r=e.call(this,t,n)||this;return r.attack=10,r.defence=40,r.attackRange=4,r.movementRange=1,r}return a(t,e),t}(i(n(905)).default);t.default=o},52:function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){void 0===n&&(n="swordsman");var r=e.call(this,t,n)||this;return r.attack=40,r.defence=10,r.attackRange=1,r.movementRange=4,r}return a(t,e),t}(i(n(905)).default);t.default=o},590:function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){void 0===n&&(n="daemon");var r=e.call(this,t,n)||this;return r.attack=10,r.defence=10,r.attackRange=4,r.movementRange=1,r}return a(t,e),t}(i(n(905)).default);t.default=o},732:function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){void 0===n&&(n="undead");var r=e.call(this,t,n)||this;return r.attack=40,r.defence=10,r.attackRange=1,r.movementRange=4,r}return a(t,e),t}(i(n(905)).default);t.default=o},127:function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){void 0===n&&(n="vampire");var r=e.call(this,t,n)||this;return r.attack=25,r.defence=25,r.attackRange=2,r.movementRange=2,r}return a(t,e),t}(i(n(905)).default);t.default=o},591:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={auto:"auto",pointer:"pointer",crosshair:"crosshair",notallowed:"not-allowed"}},460:function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.generatePositionedAllies=t.generatePositionedEnemies=t.movementRadius=t.attackRadius=t.randomPosition=t.range=t.generateTeam=t.characterGenerator=void 0;var i=a(n(918)),o=a(n(590)),l=a(n(732)),c=a(n(127)),s=a(n(212)),u=a(n(164)),d=a(n(418)),h=a(n(52));function f(e,t){var n,a;return r(this,(function(r){switch(r.label){case 0:return n=Math.ceil(Math.random()*t),a=Math.floor(Math.random()*e.length),[4,new e[a](n)];case 1:return r.sent(),[3,0];case 2:return[2]}}))}function p(e,t,n){for(var r=f(e,t),a=[],o=0;o<n;o++){var l=r.next().value;a.push(l)}return new i.default(a)}function v(e,t,n){void 0===n&&(n=1);for(var r=[],a=e;a<t;a+=n)r.push(a);return r}function m(e,t){for(var n=[],r=0;r<t;r++){var a=Math.floor(Math.random()*e.length);n.push(e.splice(a,1))}return n.flat()}t.characterGenerator=f,t.generateTeam=p,t.range=v,t.randomPosition=m,t.attackRadius=function(e,t,n){for(var r=[],a=v(e-n*t,e+n*t+1,n).filter((function(e){return e>=0&&e<n*n})).values(),i=a.next().value,o=0;o<n;o++){var l=v(n*o,n*(o+1));l.includes(i)&&(r.push(l.filter((function(e){return e<=i+t&&e>=i-t}))),i=a.next().value)}return r.flat()},t.movementRadius=function(e,t,n){for(var r=[],a=v(e-n*t,e+n*t+1,n).filter((function(e){return e>=0&&e<n*n})),i=a.indexOf(e),o=a.slice(0,i).reverse(),l=a.slice(i),c=0;c<t;c++)for(var s=function(e){var t=v(n*e,n*(e+1));if(t.includes(o[c])){var a=v(o[c]-(c+1),o[c]+(c+2),c+1);r.push(a.filter((function(e){return t.includes(e)})))}if(t.includes(l[c+1])){var i=v(l[c+1]-(c+1),l[c+1]+(c+2),c+1);r.push(i.filter((function(e){return t.includes(e)})))}},u=0;u<n;u++)s(u);var d=function(e){var a=v(n*e,n*(e+1));if(a.includes(l[0])){var i=v(l[0]-t,l[0]+t+1);r.push(i.filter((function(e){return a.includes(e)})))}};for(u=0;u<n;u++)d(u);return r.flat()},t.generatePositionedEnemies=function(e){var t=p([o.default,l.default,c.default],4,3),n=m(v(e-2,e*e-e,8).concat(v(e-1,e*e-e,8)),3);return t.characters.map((function(e,t){return new s.default(e,n[t])}))},t.generatePositionedAllies=function(e){var t=p([u.default,d.default,h.default],4,3),n=m(v(0,e*e-e,8).concat(v(1,e*e-e+1,8)),3);return t.characters.map((function(e,t){return new s.default(e,n[t])}))}},992:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(782)),i=function(){function e(e){this.currentTheme=e,this.values=a.default,this.index=this.values.indexOf(e)}return e.prototype.next=function(){return++this.index,this.index===this.values.length&&(this.index=0),this.currentTheme=this.values[this.index],this.currentTheme},e}();t.default=i},782:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["prairie","desert","arctic","mountain"]},605:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.randomElementFromArray=t.dealDamage=t.calcHealthLevel=t.calcTileType=void 0;var r=n(460);t.calcTileType=function(e,t){switch(!0){case 0===e:return"top-left";case e===t-1:return"top-right";case e===Math.pow(t,2)-t:return"bottom-left";case e===Math.pow(t,2)-1:return"bottom-right";case(0,r.range)(1,t-1).includes(e):return"top";case(0,r.range)(Math.pow(t,2)-t+1,Math.pow(t,2)-1).includes(e):return"bottom";case(0,r.range)(t,Math.pow(t,2)-t,t).includes(e):return"left";case(0,r.range)(2*t-1,Math.pow(t,2)-1,t).includes(e):return"right";default:return"center"}},t.calcHealthLevel=function(e){return e<15?"critical":e<50?"normal":"high"},t.dealDamage=function(e,t){return Math.max(e.attack-t.defence,.1*e.attack)},t.randomElementFromArray=function(e){return e[Math.floor(Math.random()*e.length)]}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(866)}();