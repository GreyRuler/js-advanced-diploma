!function(){"use strict";var e={905:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.level=0,this.attack=0,this.defence=0,this.health=50,this.type=t,this.attackRange=0,this.movementRange=0;for(var n=0;n<e;n++)this.levelUP()}return e.prototype.toString=function(){return"üéñ ".concat(this.level," ‚öî ").concat(this.attack," üõ° ").concat(this.defence," ‚ù§ ").concat(this.health)},e.prototype.levelUP=function(){this.level?(this.health>20?this.health=100:this.health+=80,this.level+=1,this.attack=this.improvingPerformance(this.attack),this.defence=this.improvingPerformance(this.defence)):this.level+=1},e.prototype.improvingPerformance=function(e){return Math.max(e,e*(80+this.health)/100)},e}();t.default=n},241:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(58)),i=n(460),o=r(n(591)),s=n(605),l=r(n(992)),c=r(n(982)),u=r(n(918)),h=function(){function e(e,t){this.positionedCharacters=[],this.themes=new l.default("prairie"),this.positionedAllies=[],this.positionedEnemies=[],this.gamePlay=e,this.stateService=t}return e.prototype.init=function(){var e=this;this.gamePlay.drawUi(this.themes.currentTheme);var t=this.gamePlay.boardSize;this.positionedAllies=(0,i.generatePositionedAllies)(t),this.positionedEnemies=(0,i.generatePositionedEnemies)(t),this.positionedCharacters=this.positionedAllies.map((function(e){return e})),this.positionedEnemies.forEach((function(t){e.positionedCharacters.push(t)})),this.userTeam=new u.default(this.positionedAllies.map((function(e){return e.character}))),this.gamePlay.redrawPositions(this.positionedCharacters),this.gamePlay.addCellClickListener(this.onCellClick.bind(this)),this.gamePlay.addCellEnterListener(this.onCellEnter.bind(this)),this.gamePlay.addCellLeaveListener(this.onCellLeave.bind(this)),this.gamePlay.addNewGameListener((function(){return e.init()})),this.gamePlay.addSaveGameListener((function(){var t={userTeam:e.positionedAllies,enemyTeam:e.positionedEnemies,theme:e.themes.currentTheme};e.stateService.save(t)})),this.gamePlay.addLoadGameListener((function(){var t=e.stateService.load();if(t){var n=c.default.from(t);e.themes=new l.default(n.theme),e.gamePlay.drawUi(e.themes.currentTheme),e.positionedAllies=t.allyTeam,e.positionedEnemies=t.enemyTeam,e.positionedCharacters=n.characters,e.userTeam=new u.default(n.userTeam),e.gamePlay.redrawPositions(e.positionedCharacters)}}))},e.prototype.onCellClick=function(e){var t,n,r,l,c,u,h,d=this,f=this.positionedCharacters.find((function(t){return t.position===e}));if(this.gamePlay.currentCharacter&&!f&&(0,i.movementRadius)(null===(t=this.gamePlay.currentCharacter)||void 0===t?void 0:t.position,null===(n=this.gamePlay.currentCharacter)||void 0===n?void 0:n.character.movementRange,this.gamePlay.boardSize).includes(e)&&(this.gamePlay.deselectCell(e),this.gamePlay.deselectCell(this.gamePlay.currentCharacter.position),this.gamePlay.currentCharacter.position=e,this.gamePlay.redrawPositions(this.positionedCharacters),this.gamePlay.currentCharacter=void 0,this.gamePlay.setCursor(o.default.auto),this.attackEnemy()),f)if(null===(r=this.userTeam)||void 0===r?void 0:r.has(f.character))(null===(l=this.gamePlay.currentCharacter)||void 0===l?void 0:l.position)&&this.gamePlay.deselectCell(this.gamePlay.currentCharacter.position),this.gamePlay.currentCharacter=f,this.gamePlay.selectCell(e);else if(this.gamePlay.currentCharacter)if((0,i.attackRadius)(null===(c=this.gamePlay.currentCharacter)||void 0===c?void 0:c.position,null===(u=this.gamePlay.currentCharacter)||void 0===u?void 0:u.character.attackRange,this.gamePlay.boardSize).includes(e)&&!(null===(h=this.userTeam)||void 0===h?void 0:h.has(f.character))){this.gamePlay.deselectCell(this.gamePlay.currentCharacter.position);var p=(0,s.dealDamage)(this.gamePlay.currentCharacter.character,f.character);f.character.health-=p,this.gamePlay.showDamage(e,"".concat(p)).then((function(){d.deathCharacter(f.character),d.gamePlay.redrawPositions(d.positionedCharacters);var e=d.enemies();if(d.gamePlay.currentCharacter=void 0,d.gamePlay.setCursor(o.default.auto),e&&e.length)d.attackEnemy();else{var t=d.allies();null==t||t.forEach((function(e){e.character.levelUP()}));var n=d.gamePlay.boardSize,r=(0,i.generatePositionedEnemies)(n);d.positionedCharacters=d.positionedCharacters.concat(r);var a=d.themes.next();"prairie"!==a?(d.gamePlay.drawUi(a),d.gamePlay.redrawPositions(d.positionedCharacters)):d.gamePlay.clearEvents()}}))}else a.default.showError("–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ");else a.default.showError("–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞")},e.prototype.onCellEnter=function(e){var t,n,r,a,s,l,c,u=null===(t=this.positionedCharacters.find((function(t){return t.position===e})))||void 0===t?void 0:t.character;u&&this.gamePlay.showCellTooltip(u.toString(),e),this.gamePlay.currentCharacter&&(["bowman","swordsman","magician"].includes(null!==(n=null==u?void 0:u.type)&&void 0!==n?n:"")?this.gamePlay.setCursor(o.default.pointer):["daemon","undead","vampire"].includes(null!==(r=null==u?void 0:u.type)&&void 0!==r?r:"")?(0,i.attackRadius)(null===(a=this.gamePlay.currentCharacter)||void 0===a?void 0:a.position,null===(s=this.gamePlay.currentCharacter)||void 0===s?void 0:s.character.attackRange,this.gamePlay.boardSize).includes(e)?(this.gamePlay.setCursor(o.default.crosshair),this.gamePlay.selectCell(e,"red")):this.gamePlay.setCursor(o.default.notallowed):(0,i.movementRadius)(null===(l=this.gamePlay.currentCharacter)||void 0===l?void 0:l.position,null===(c=this.gamePlay.currentCharacter)||void 0===c?void 0:c.character.movementRange,this.gamePlay.boardSize).includes(e)?(this.gamePlay.setCursor(o.default.pointer),this.gamePlay.selectCell(e,"green")):this.gamePlay.setCursor(o.default.notallowed))},e.prototype.onCellLeave=function(e){var t,n;this.gamePlay.hideCellTooltip(e),e!==(null===(n=null===(t=this.gamePlay)||void 0===t?void 0:t.currentCharacter)||void 0===n?void 0:n.position)&&this.gamePlay.deselectCell(e)},e.prototype.attackEnemy=function(){var e=this,t=this.allies(),n=this.enemies(),r=null==t?void 0:t.reduce((function(t,r){var a=null==n?void 0:n.filter((function(t){return(0,i.attackRadius)(t.position,t.character.attackRange,e.gamePlay.boardSize).includes(r.position)}));if(null==a?void 0:a.length){var o=[r,a];t.push(o)}return t}),[]);if(null==r?void 0:r.length){var a=(0,s.randomElementFromArray)(r),o=a[0],l=a[1],c=(0,s.randomElementFromArray)(l),u=(0,s.dealDamage)(c.character,o.character);o.character.health-=u,this.gamePlay.showDamage(o.position,"".concat(u)).then((function(){var t;e.deathCharacter(o.character),e.gamePlay.redrawPositions(e.positionedCharacters),(null===(t=e.allies())||void 0===t?void 0:t.length)||e.gamePlay.clearEvents()}))}else if(n){var h=(0,s.randomElementFromArray)(n),d=(0,i.movementRadius)(h.position,h.character.movementRange,this.gamePlay.boardSize),f=this.positionedCharacters.map((function(e){return e.position})),p=d.filter((function(e){return!f.includes(e)}));h.position=(0,s.randomElementFromArray)(p)}},e.prototype.deathCharacter=function(e){e.health<=0&&(this.positionedCharacters=this.positionedCharacters.filter((function(t){return t.character!==e})))},e.prototype.allies=function(){return this.positionedCharacters.filter((function(e){return["bowman","swordsman","magician"].includes(e.character.type)}))},e.prototype.enemies=function(){return this.positionedCharacters.filter((function(e){return!["bowman","swordsman","magician"].includes(e.character.type)}))},e}();t.default=h},58:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(605),a=function(){function e(e){this.boardSize=8,this.cells=[],this.cellClickListeners=[],this.cellEnterListeners=[],this.cellLeaveListeners=[],this.newGameListeners=[],this.saveGameListeners=[],this.loadGameListeners=[],this.container=e}return e.prototype.drawUi=function(e){var t=this;this.container.innerHTML='\n\t\t\t<div class="controls">\n\t\t\t\t<button data-id="action-restart" class="btn">New Game</button>\n\t\t\t\t<button data-id="action-save" class="btn">Save Game</button>\n\t\t\t\t<button data-id="action-load" class="btn">Load Game</button>\n\t\t\t</div>\n\t\t\t<div class="board-container">\n\t\t\t\t<div data-id="board" class="board"></div>\n\t\t\t</div>\n\t\t',this.newGameEl=this.container.querySelector("[data-id=action-restart]"),this.saveGameEl=this.container.querySelector("[data-id=action-save]"),this.loadGameEl=this.container.querySelector("[data-id=action-load]"),this.newGameEl.addEventListener("click",(function(e){return t.onNewGameClick(e)})),this.saveGameEl.addEventListener("click",(function(e){return t.onSaveGameClick(e)})),this.loadGameEl.addEventListener("click",(function(e){return t.onLoadGameClick(e)}));var n=this.container.querySelector("[data-id=board]");this.boardEl=n,this.boardEl.classList.add(e),this.cells.length=0;for(var a=0;a<Math.pow(this.boardSize,2);a+=1){var i=document.createElement("div");i.classList.add("cell","map-tile","map-tile-".concat((0,r.calcTileType)(a,this.boardSize))),i.addEventListener("mouseenter",(function(e){return t.onCellEnter(e)})),i.addEventListener("mouseleave",(function(e){return t.onCellLeave(e)})),i.addEventListener("click",(function(e){return t.onCellClick(e)})),this.boardEl.appendChild(i),this.cells.push(i)}},e.prototype.redrawPositions=function(e){for(var t=0,n=this.cells;t<n.length;t++)n[t].innerHTML="";for(var a=0,i=e;a<i.length;a++){var o=i[a],s=this.cells[o.position],l=document.createElement("div");l.classList.add("character",o.character.type);var c=document.createElement("div");c.classList.add("health-level");var u=document.createElement("div");u.classList.add("health-level-indicator","health-level-indicator-".concat((0,r.calcHealthLevel)(o.character.health))),u.style.width="".concat(o.character.health,"%"),c.appendChild(u),l.appendChild(c),s.appendChild(l)}},e.prototype.addCellEnterListener=function(e){this.cellEnterListeners.push(e)},e.prototype.addCellLeaveListener=function(e){this.cellLeaveListeners.push(e)},e.prototype.addCellClickListener=function(e){this.cellClickListeners.push(e)},e.prototype.addNewGameListener=function(e){this.newGameListeners.push(e)},e.prototype.addSaveGameListener=function(e){this.saveGameListeners.push(e)},e.prototype.addLoadGameListener=function(e){this.loadGameListeners.push(e)},e.prototype.onCellEnter=function(e){e.preventDefault();var t=this.cells.indexOf(e.currentTarget);this.cellEnterListeners.forEach((function(e){return e.call(null,t)}))},e.prototype.onCellLeave=function(e){e.preventDefault();var t=this.cells.indexOf(e.currentTarget);this.cellLeaveListeners.forEach((function(e){return e.call(null,t)}))},e.prototype.onCellClick=function(e){var t=this.cells.indexOf(e.currentTarget);this.cellClickListeners.forEach((function(e){return e.call(null,t)}))},e.prototype.onNewGameClick=function(e){e.preventDefault(),this.newGameListeners.forEach((function(e){return e.call(null)}))},e.prototype.onSaveGameClick=function(e){e.preventDefault(),this.saveGameListeners.forEach((function(e){return e.call(null)}))},e.prototype.onLoadGameClick=function(e){e.preventDefault(),this.loadGameListeners.forEach((function(e){return e.call(null)}))},e.showError=function(e){alert(e)},e.showMessage=function(e){alert(e)},e.prototype.selectCell=function(e,t){void 0===t&&(t="yellow"),this.deselectCell(e),this.cells[e].classList.add("selected","selected-".concat(t))},e.prototype.deselectCell=function(e){var t,n=this.cells[e];(t=n.classList).remove.apply(t,Array.from(n.classList).filter((function(e){return e.startsWith("selected")})))},e.prototype.showCellTooltip=function(e,t){this.cells[t].title=e},e.prototype.hideCellTooltip=function(e){this.cells[e].title=""},e.prototype.showDamage=function(e,t){var n=this;return new Promise((function(r){var a=n.cells[e],i=document.createElement("span");i.textContent=t,i.classList.add("damage"),a.appendChild(i),i.addEventListener("animationend",(function(){a.removeChild(i),r()}))}))},e.prototype.setCursor=function(e){this.boardEl&&(this.boardEl.style.cursor=e)},e.prototype.clearEvents=function(){this.cells.forEach((function(e){var t=e.cloneNode(!0);e.replaceWith(t)}))},e}();t.default=a},982:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.from=function(e){var t=e.characters;return{theme:e.theme,characters:t,userTeam:e.userTeam}},e}();t.default=n},370:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(58)),i=n(605),o=function(){function e(e){this.storage=e}return e.prototype.save=function(e){this.storage.setItem("state",JSON.stringify(e))},e.prototype.load=function(){var e;try{var t=JSON.parse(null!==(e=this.storage.getItem("state"))&&void 0!==e?e:""),n=t.userTeam.map((function(e){return(0,i.positionedCharacterToClassType)(e)})),r=t.enemyTeam.map((function(e){return(0,i.positionedCharacterToClassType)(e)})),o=n.concat(r),s=n.map((function(e){return e.character}));return{theme:t.theme,characters:o,userTeam:s,allyTeam:n,enemyTeam:r}}catch(e){return void a.default.showError("–£ –í–∞—Å –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π")}},e}();t.default=o},212:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){this.character=e,this.position=t}},918:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._characters=e}return Object.defineProperty(e.prototype,"characters",{get:function(){return this._characters},enumerable:!1,configurable:!0}),e.prototype.has=function(e){return this._characters.includes(e)},e}();t.default=n},866:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(58)),i=r(n(241)),o=r(n(370)),s=document.getElementById("game-container");if(s){var l=new a.default(s),c=new o.default(localStorage);new i.default(l,c).init()}},164:function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){void 0===n&&(n="bowman");var r=e.call(this,t,n)||this;return r.attack=25,r.defence=25,r.attackRange=2,r.movementRange=2,r}return a(t,e),t}(i(n(905)).default);t.default=o},418:function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){void 0===n&&(n="magician");var r=e.call(this,t,n)||this;return r.attack=10,r.defence=40,r.attackRange=4,r.movementRange=1,r}return a(t,e),t}(i(n(905)).default);t.default=o},52:function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){void 0===n&&(n="swordsman");var r=e.call(this,t,n)||this;return r.attack=40,r.defence=10,r.attackRange=1,r.movementRange=4,r}return a(t,e),t}(i(n(905)).default);t.default=o},590:function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){void 0===n&&(n="daemon");var r=e.call(this,t,n)||this;return r.attack=10,r.defence=10,r.attackRange=4,r.movementRange=1,r}return a(t,e),t}(i(n(905)).default);t.default=o},732:function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){void 0===n&&(n="undead");var r=e.call(this,t,n)||this;return r.attack=40,r.defence=10,r.attackRange=1,r.movementRange=4,r}return a(t,e),t}(i(n(905)).default);t.default=o},127:function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){void 0===n&&(n="vampire");var r=e.call(this,t,n)||this;return r.attack=25,r.defence=25,r.attackRange=2,r.movementRange=2,r}return a(t,e),t}(i(n(905)).default);t.default=o},591:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={auto:"auto",pointer:"pointer",crosshair:"crosshair",notallowed:"not-allowed"}},460:function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.generatePositionedAllies=t.generatePositionedEnemies=t.movementRadius=t.attackRadius=t.randomPosition=t.range=t.generateTeam=t.characterGenerator=void 0;var i=a(n(918)),o=a(n(590)),s=a(n(732)),l=a(n(127)),c=a(n(212)),u=a(n(164)),h=a(n(418)),d=a(n(52));function f(e,t){var n,a;return r(this,(function(r){switch(r.label){case 0:return n=Math.ceil(Math.random()*t),a=Math.floor(Math.random()*e.length),[4,new e[a](n)];case 1:return r.sent(),[3,0];case 2:return[2]}}))}function p(e,t,n){for(var r=f(e,t),a=[],o=0;o<n;o++){var s=r.next().value;a.push(s)}return new i.default(a)}function m(e,t,n){void 0===n&&(n=1);for(var r=[],a=e;a<t;a+=n)r.push(a);return r}function v(e,t){for(var n=[],r=0;r<t;r++){var a=Math.floor(Math.random()*e.length);n.push(e.splice(a,1))}return n.flat()}t.characterGenerator=f,t.generateTeam=p,t.range=m,t.randomPosition=v,t.attackRadius=function(e,t,n){for(var r=[],a=m(e-n*t,e+n*t+1,n).filter((function(e){return e>=0&&e<n*n})).values(),i=a.next().value,o=0;o<n;o++){var s=m(n*o,n*(o+1));s.includes(i)&&(r.push(s.filter((function(e){return e<=i+t&&e>=i-t}))),i=a.next().value)}return r.flat()},t.movementRadius=function(e,t,n){for(var r=[],a=m(e-n*t,e+n*t+1,n).filter((function(e){return e>=0&&e<n*n})),i=a.indexOf(e),o=a.slice(0,i).reverse(),s=a.slice(i),l=0;l<t;l++)for(var c=function(e){var t=m(n*e,n*(e+1));if(t.includes(o[l])){var a=m(o[l]-(l+1),o[l]+(l+2),l+1);r.push(a.filter((function(e){return t.includes(e)})))}if(t.includes(s[l+1])){var i=m(s[l+1]-(l+1),s[l+1]+(l+2),l+1);r.push(i.filter((function(e){return t.includes(e)})))}},u=0;u<n;u++)c(u);var h=function(e){var a=m(n*e,n*(e+1));if(a.includes(s[0])){var i=m(s[0]-t,s[0]+t+1);r.push(i.filter((function(e){return a.includes(e)})))}};for(u=0;u<n;u++)h(u);return r.flat()},t.generatePositionedEnemies=function(e){var t=p([o.default,s.default,l.default],4,3),n=v(m(e-2,e*e-e,8).concat(m(e-1,e*e-e,8)),3);return t.characters.map((function(e,t){return new c.default(e,n[t])}))},t.generatePositionedAllies=function(e){var t=p([u.default,h.default,d.default],4,3),n=v(m(0,e*e-e,8).concat(m(1,e*e-e+1,8)),3);return t.characters.map((function(e,t){return new c.default(e,n[t])}))}},992:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(782)),i=function(){function e(e){this.values=a.default,this.currentTheme=e,this.index=this.values.indexOf(e)}return e.prototype.next=function(){return++this.index,this.index===this.values.length&&(this.index=0),this.currentTheme=this.values[this.index],this.currentTheme},e}();t.default=i},782:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["prairie","desert","arctic","mountain"]},605:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.positionedCharacterToClassType=t.characterToClassType=t.randomElementFromArray=t.dealDamage=t.calcHealthLevel=t.calcTileType=void 0;var a=n(460),i=r(n(212)),o=r(n(164)),s=r(n(418)),l=r(n(52)),c=r(n(590)),u=r(n(732)),h=r(n(127));function d(e){var t=[o.default,s.default,l.default,c.default,u.default,h.default],n=t.findIndex((function(t){return t.name.toLowerCase()===e.type})),r=new t[n](e.level);return r.level=e.level,r.health=e.health,r.attack=e.attack,r.defence=e.defence,r}t.calcTileType=function(e,t){switch(!0){case 0===e:return"top-left";case e===t-1:return"top-right";case e===Math.pow(t,2)-t:return"bottom-left";case e===Math.pow(t,2)-1:return"bottom-right";case(0,a.range)(1,t-1).includes(e):return"top";case(0,a.range)(Math.pow(t,2)-t+1,Math.pow(t,2)-1).includes(e):return"bottom";case(0,a.range)(t,Math.pow(t,2)-t,t).includes(e):return"left";case(0,a.range)(2*t-1,Math.pow(t,2)-1,t).includes(e):return"right";default:return"center"}},t.calcHealthLevel=function(e){return e<15?"critical":e<50?"normal":"high"},t.dealDamage=function(e,t){return Math.max(e.attack-t.defence,.1*e.attack)},t.randomElementFromArray=function(e){return e[Math.floor(Math.random()*e.length)]},t.characterToClassType=d,t.positionedCharacterToClassType=function(e){var t=d(e.character);return new i.default(t,e.position)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(866)}();