!function(){"use strict";var e={905:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.level=0,this.attack=0,this.defence=0,this.health=50,this.type=t,this.attackRange=0,this.movementRange=0;for(var r=0;r<e;r++)this.levelUP()}return e.prototype.toString=function(){return"üéñ ".concat(this.level," ‚öî ").concat(this.attack," üõ° ").concat(this.defence," ‚ù§ ").concat(this.health)},e.prototype.levelUP=function(){this.level?(this.health>20?this.health=100:this.health+=80,this.level+=1,this.attack=this.improvingPerformance(this.attack),this.defence=this.improvingPerformance(this.defence)):this.level+=1},e.prototype.improvingPerformance=function(e){return Math.max(e,e*(80+this.health)/100)},e}();t.default=r},241:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(58)),o=r(460),i=n(r(591)),l=r(605),s=n(r(992)),c=n(r(982)),u=n(r(918)),h=function(){function e(e,t){this.positionedCharacters=[],this.themes=new s.default("prairie"),this.gamePlay=e,this.stateService=t}return e.prototype.init=function(){var e=this;this.gamePlay.drawUi(this.themes.currentTheme);var t=this.gamePlay.boardSize,r=(0,o.generatePositionedAllies)(t),n=(0,o.generatePositionedEnemies)(t);this.positionedCharacters=r.concat(n),this.userTeam=new u.default(r.map((function(e){return e.character}))),this.enemyTeam=n,this.gamePlay.redrawPositions(this.positionedCharacters),this.gamePlay.addCellClickListener(this.onCellClick.bind(this)),this.gamePlay.addCellEnterListener(this.onCellEnter.bind(this)),this.gamePlay.addCellLeaveListener(this.onCellLeave.bind(this)),this.gamePlay.addNewGameListener((function(){return e.init()})),this.gamePlay.addSaveGameListener((function(){var t,r={enemyTeam:e.enemyTeam,userTeam:null===(t=e.userTeam)||void 0===t?void 0:t.characters,theme:e.themes.currentTheme};e.stateService.save(r)})),this.gamePlay.addLoadGameListener((function(){var t=e.stateService.load();if(t){var r=c.default.from(t);e.themes=new s.default(r.theme),e.gamePlay.drawUi(e.themes.currentTheme),e.positionedCharacters=r.characters,e.userTeam=new u.default(r.userTeam),e.gamePlay.redrawPositions(e.positionedCharacters)}}))},e.prototype.onCellClick=function(e){var t,r,n,s,c,u,h,d,f=this,p=this.positionedCharacters.find((function(t){return t.position===e}));if(this.gamePlay.currentCharacter&&!p&&(0,o.movementRadius)(null===(t=this.gamePlay.currentCharacter)||void 0===t?void 0:t.position,null===(r=this.gamePlay.currentCharacter)||void 0===r?void 0:r.character.movementRange,this.gamePlay.boardSize).includes(e)&&(this.gamePlay.deselectCell(e),this.gamePlay.deselectCell(this.gamePlay.currentCharacter.position),this.gamePlay.currentCharacter.position=e,this.gamePlay.redrawPositions(this.positionedCharacters),this.gamePlay.currentCharacter=void 0,this.gamePlay.setCursor(i.default.auto),this.attackEnemy()),p)if(console.log(this.userTeam),console.log(null===(n=this.userTeam)||void 0===n?void 0:n.has(p.character)),console.log(p.character),null===(s=this.userTeam)||void 0===s?void 0:s.has(p.character))(null===(c=this.gamePlay.currentCharacter)||void 0===c?void 0:c.position)&&this.gamePlay.deselectCell(this.gamePlay.currentCharacter.position),this.gamePlay.currentCharacter=p,this.gamePlay.selectCell(e);else if(this.gamePlay.currentCharacter)if((0,o.attackRadius)(null===(u=this.gamePlay.currentCharacter)||void 0===u?void 0:u.position,null===(h=this.gamePlay.currentCharacter)||void 0===h?void 0:h.character.attackRange,this.gamePlay.boardSize).includes(e)&&!(null===(d=this.userTeam)||void 0===d?void 0:d.has(p.character))){this.gamePlay.deselectCell(this.gamePlay.currentCharacter.position);var v=(0,l.dealDamage)(this.gamePlay.currentCharacter.character,p.character);p.character.health-=v,this.gamePlay.showDamage(e,"".concat(v)).then((function(){f.deathCharacter(p.character),f.gamePlay.redrawPositions(f.positionedCharacters);var e=f.enemies();if(f.gamePlay.currentCharacter=void 0,f.gamePlay.setCursor(i.default.auto),e&&e.length)f.attackEnemy();else{var t=f.allies();null==t||t.forEach((function(e){e.character.levelUP()}));var r=f.gamePlay.boardSize,n=(0,o.generatePositionedEnemies)(r);f.positionedCharacters=f.positionedCharacters.concat(n);var a=f.themes.next();"prairie"!==a?(f.gamePlay.drawUi(a),f.gamePlay.redrawPositions(f.positionedCharacters)):f.gamePlay.clearEvents()}}))}else a.default.showError("–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ");else a.default.showError("–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞")},e.prototype.onCellEnter=function(e){var t,r,n,a,l,s,c,u=null===(t=this.positionedCharacters.find((function(t){return t.position===e})))||void 0===t?void 0:t.character;u&&this.gamePlay.showCellTooltip(u.toString(),e),this.gamePlay.currentCharacter&&(["bowman","swordsman","magician"].includes(null!==(r=null==u?void 0:u.type)&&void 0!==r?r:"")?this.gamePlay.setCursor(i.default.pointer):["daemon","undead","vampire"].includes(null!==(n=null==u?void 0:u.type)&&void 0!==n?n:"")?(0,o.attackRadius)(null===(a=this.gamePlay.currentCharacter)||void 0===a?void 0:a.position,null===(l=this.gamePlay.currentCharacter)||void 0===l?void 0:l.character.attackRange,this.gamePlay.boardSize).includes(e)?(this.gamePlay.setCursor(i.default.crosshair),this.gamePlay.selectCell(e,"red")):this.gamePlay.setCursor(i.default.notallowed):(0,o.movementRadius)(null===(s=this.gamePlay.currentCharacter)||void 0===s?void 0:s.position,null===(c=this.gamePlay.currentCharacter)||void 0===c?void 0:c.character.movementRange,this.gamePlay.boardSize).includes(e)?(this.gamePlay.setCursor(i.default.pointer),this.gamePlay.selectCell(e,"green")):this.gamePlay.setCursor(i.default.notallowed))},e.prototype.onCellLeave=function(e){var t,r;this.gamePlay.hideCellTooltip(e),e!==(null===(r=null===(t=this.gamePlay)||void 0===t?void 0:t.currentCharacter)||void 0===r?void 0:r.position)&&this.gamePlay.deselectCell(e)},e.prototype.attackEnemy=function(){var e=this,t=this.allies(),r=this.enemies(),n=null==t?void 0:t.reduce((function(t,n){var a=null==r?void 0:r.filter((function(t){return(0,o.attackRadius)(t.position,t.character.attackRange,e.gamePlay.boardSize).includes(n.position)}));if(null==a?void 0:a.length){var i=[n,a];t.push(i)}return t}),[]);if(null==n?void 0:n.length){var a=(0,l.randomElementFromArray)(n),i=a[0],s=a[1],c=(0,l.randomElementFromArray)(s),u=(0,l.dealDamage)(c.character,i.character);i.character.health-=u,this.gamePlay.showDamage(i.position,"".concat(u)).then((function(){var t;e.deathCharacter(i.character),e.gamePlay.redrawPositions(e.positionedCharacters),(null===(t=e.allies())||void 0===t?void 0:t.length)||e.gamePlay.clearEvents()}))}else if(r){var h=(0,l.randomElementFromArray)(r),d=(0,o.movementRadius)(h.position,h.character.movementRange,this.gamePlay.boardSize),f=this.positionedCharacters.map((function(e){return e.position})),p=d.filter((function(e){return!f.includes(e)}));h.position=(0,l.randomElementFromArray)(p)}},e.prototype.deathCharacter=function(e){e.health<=0&&(this.positionedCharacters=this.positionedCharacters.filter((function(t){return t.character!==e})))},e.prototype.allies=function(){return this.positionedCharacters.filter((function(e){return["bowman","swordsman","magician"].includes(e.character.type)}))},e.prototype.enemies=function(){return this.positionedCharacters.filter((function(e){return!["bowman","swordsman","magician"].includes(e.character.type)}))},e}();t.default=h},58:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(605),a=function(){function e(e){this.boardSize=8,this.cells=[],this.cellClickListeners=[],this.cellEnterListeners=[],this.cellLeaveListeners=[],this.newGameListeners=[],this.saveGameListeners=[],this.loadGameListeners=[],this.container=e}return e.prototype.drawUi=function(e){var t=this;this.container.innerHTML='\n\t\t\t<div class="controls">\n\t\t\t\t<button data-id="action-restart" class="btn">New Game</button>\n\t\t\t\t<button data-id="action-save" class="btn">Save Game</button>\n\t\t\t\t<button data-id="action-load" class="btn">Load Game</button>\n\t\t\t</div>\n\t\t\t<div class="board-container">\n\t\t\t\t<div data-id="board" class="board"></div>\n\t\t\t</div>\n\t\t',this.newGameEl=this.container.querySelector("[data-id=action-restart]"),this.saveGameEl=this.container.querySelector("[data-id=action-save]"),this.loadGameEl=this.container.querySelector("[data-id=action-load]"),this.newGameEl.addEventListener("click",(function(e){return t.onNewGameClick(e)})),this.saveGameEl.addEventListener("click",(function(e){return t.onSaveGameClick(e)})),this.loadGameEl.addEventListener("click",(function(e){return t.onLoadGameClick(e)}));var r=this.container.querySelector("[data-id=board]");this.boardEl=r,this.boardEl.classList.add(e),this.cells.length=0;for(var a=0;a<Math.pow(this.boardSize,2);a+=1){var o=document.createElement("div");o.classList.add("cell","map-tile","map-tile-".concat((0,n.calcTileType)(a,this.boardSize))),o.addEventListener("mouseenter",(function(e){return t.onCellEnter(e)})),o.addEventListener("mouseleave",(function(e){return t.onCellLeave(e)})),o.addEventListener("click",(function(e){return t.onCellClick(e)})),this.boardEl.appendChild(o),this.cells.push(o)}},e.prototype.redrawPositions=function(e){for(var t=0,r=this.cells;t<r.length;t++)r[t].innerHTML="";for(var a=0,o=e;a<o.length;a++){var i=o[a],l=this.cells[i.position],s=document.createElement("div");s.classList.add("character",i.character.type);var c=document.createElement("div");c.classList.add("health-level");var u=document.createElement("div");u.classList.add("health-level-indicator","health-level-indicator-".concat((0,n.calcHealthLevel)(i.character.health))),u.style.width="".concat(i.character.health,"%"),c.appendChild(u),s.appendChild(c),l.appendChild(s)}},e.prototype.addCellEnterListener=function(e){this.cellEnterListeners.push(e)},e.prototype.addCellLeaveListener=function(e){this.cellLeaveListeners.push(e)},e.prototype.addCellClickListener=function(e){this.cellClickListeners.push(e)},e.prototype.addNewGameListener=function(e){this.newGameListeners.push(e)},e.prototype.addSaveGameListener=function(e){this.saveGameListeners.push(e)},e.prototype.addLoadGameListener=function(e){this.loadGameListeners.push(e)},e.prototype.onCellEnter=function(e){e.preventDefault();var t=this.cells.indexOf(e.currentTarget);this.cellEnterListeners.forEach((function(e){return e.call(null,t)}))},e.prototype.onCellLeave=function(e){e.preventDefault();var t=this.cells.indexOf(e.currentTarget);this.cellLeaveListeners.forEach((function(e){return e.call(null,t)}))},e.prototype.onCellClick=function(e){var t=this.cells.indexOf(e.currentTarget);this.cellClickListeners.forEach((function(e){return e.call(null,t)}))},e.prototype.onNewGameClick=function(e){e.preventDefault(),this.newGameListeners.forEach((function(e){return e.call(null)}))},e.prototype.onSaveGameClick=function(e){e.preventDefault(),this.saveGameListeners.forEach((function(e){return e.call(null)}))},e.prototype.onLoadGameClick=function(e){e.preventDefault(),this.loadGameListeners.forEach((function(e){return e.call(null)}))},e.showError=function(e){alert(e)},e.showMessage=function(e){alert(e)},e.prototype.selectCell=function(e,t){void 0===t&&(t="yellow"),this.deselectCell(e),this.cells[e].classList.add("selected","selected-".concat(t))},e.prototype.deselectCell=function(e){var t,r=this.cells[e];(t=r.classList).remove.apply(t,Array.from(r.classList).filter((function(e){return e.startsWith("selected")})))},e.prototype.showCellTooltip=function(e,t){this.cells[t].title=e},e.prototype.hideCellTooltip=function(e){this.cells[e].title=""},e.prototype.showDamage=function(e,t){var r=this;return new Promise((function(n){var a=r.cells[e],o=document.createElement("span");o.textContent=t,o.classList.add("damage"),a.appendChild(o),o.addEventListener("animationend",(function(){a.removeChild(o),n()}))}))},e.prototype.setCursor=function(e){this.boardEl&&(this.boardEl.style.cursor=e)},e.prototype.clearEvents=function(){this.cells.forEach((function(e){var t=e.cloneNode(!0);e.replaceWith(t)}))},e}();t.default=a},982:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.from=function(e){var t=e.characters;return{theme:e.theme,characters:t,userTeam:e.userTeam}},e}();t.default=r},370:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(58)),o=r(605),i=function(){function e(e){this.storage=e}return e.prototype.save=function(e){this.storage.setItem("state",JSON.stringify(e))},e.prototype.load=function(){var e;try{var t=JSON.parse(null!==(e=this.storage.getItem("state"))&&void 0!==e?e:""),r=t.characters.map((function(e){return(0,o.positionedCharacterToClassType)(e)})),n=t.userTeam.map((function(e){return(0,o.characterToClassType)(e)}));return{theme:t.theme,characters:r,userTeam:n}}catch(e){return void a.default.showError("–£ –í–∞—Å –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π")}},e}();t.default=i},212:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){this.character=e,this.position=t}},918:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._characters=e}return Object.defineProperty(e.prototype,"characters",{get:function(){return this._characters},enumerable:!1,configurable:!0}),e.prototype.has=function(e){return this._characters.includes(e)},e}();t.default=r},866:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(58)),o=n(r(241)),i=n(r(370)),l=document.getElementById("game-container");if(l){var s=new a.default(l),c=new i.default(localStorage);new o.default(s,c).init()}},164:function(e,t,r){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,r){void 0===r&&(r="bowman");var n=e.call(this,t,r)||this;return n.attack=25,n.defence=25,n.attackRange=2,n.movementRange=2,n}return a(t,e),t}(o(r(905)).default);t.default=i},418:function(e,t,r){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,r){void 0===r&&(r="magician");var n=e.call(this,t,r)||this;return n.attack=10,n.defence=40,n.attackRange=4,n.movementRange=1,n}return a(t,e),t}(o(r(905)).default);t.default=i},52:function(e,t,r){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,r){void 0===r&&(r="swordsman");var n=e.call(this,t,r)||this;return n.attack=40,n.defence=10,n.attackRange=1,n.movementRange=4,n}return a(t,e),t}(o(r(905)).default);t.default=i},590:function(e,t,r){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,r){void 0===r&&(r="daemon");var n=e.call(this,t,r)||this;return n.attack=10,n.defence=10,n.attackRange=4,n.movementRange=1,n}return a(t,e),t}(o(r(905)).default);t.default=i},732:function(e,t,r){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,r){void 0===r&&(r="undead");var n=e.call(this,t,r)||this;return n.attack=40,n.defence=10,n.attackRange=1,n.movementRange=4,n}return a(t,e),t}(o(r(905)).default);t.default=i},127:function(e,t,r){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,r){void 0===r&&(r="vampire");var n=e.call(this,t,r)||this;return n.attack=25,n.defence=25,n.attackRange=2,n.movementRange=2,n}return a(t,e),t}(o(r(905)).default);t.default=i},591:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={auto:"auto",pointer:"pointer",crosshair:"crosshair",notallowed:"not-allowed"}},460:function(e,t,r){var n=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.generatePositionedAllies=t.generatePositionedEnemies=t.movementRadius=t.attackRadius=t.randomPosition=t.range=t.generateTeam=t.characterGenerator=void 0;var o=a(r(918)),i=a(r(590)),l=a(r(732)),s=a(r(127)),c=a(r(212)),u=a(r(164)),h=a(r(418)),d=a(r(52));function f(e,t){var r,a;return n(this,(function(n){switch(n.label){case 0:return r=Math.ceil(Math.random()*t),a=Math.floor(Math.random()*e.length),[4,new e[a](r)];case 1:return n.sent(),[3,0];case 2:return[2]}}))}function p(e,t,r){for(var n=f(e,t),a=[],i=0;i<r;i++){var l=n.next().value;a.push(l)}return new o.default(a)}function v(e,t,r){void 0===r&&(r=1);for(var n=[],a=e;a<t;a+=r)n.push(a);return n}function m(e,t){for(var r=[],n=0;n<t;n++){var a=Math.floor(Math.random()*e.length);r.push(e.splice(a,1))}return r.flat()}t.characterGenerator=f,t.generateTeam=p,t.range=v,t.randomPosition=m,t.attackRadius=function(e,t,r){for(var n=[],a=v(e-r*t,e+r*t+1,r).filter((function(e){return e>=0&&e<r*r})).values(),o=a.next().value,i=0;i<r;i++){var l=v(r*i,r*(i+1));l.includes(o)&&(n.push(l.filter((function(e){return e<=o+t&&e>=o-t}))),o=a.next().value)}return n.flat()},t.movementRadius=function(e,t,r){for(var n=[],a=v(e-r*t,e+r*t+1,r).filter((function(e){return e>=0&&e<r*r})),o=a.indexOf(e),i=a.slice(0,o).reverse(),l=a.slice(o),s=0;s<t;s++)for(var c=function(e){var t=v(r*e,r*(e+1));if(t.includes(i[s])){var a=v(i[s]-(s+1),i[s]+(s+2),s+1);n.push(a.filter((function(e){return t.includes(e)})))}if(t.includes(l[s+1])){var o=v(l[s+1]-(s+1),l[s+1]+(s+2),s+1);n.push(o.filter((function(e){return t.includes(e)})))}},u=0;u<r;u++)c(u);var h=function(e){var a=v(r*e,r*(e+1));if(a.includes(l[0])){var o=v(l[0]-t,l[0]+t+1);n.push(o.filter((function(e){return a.includes(e)})))}};for(u=0;u<r;u++)h(u);return n.flat()},t.generatePositionedEnemies=function(e){var t=p([i.default,l.default,s.default],4,3),r=m(v(e-2,e*e-e,8).concat(v(e-1,e*e-e,8)),3);return t.characters.map((function(e,t){return new c.default(e,r[t])}))},t.generatePositionedAllies=function(e){var t=p([u.default,h.default,d.default],4,3),r=m(v(0,e*e-e,8).concat(v(1,e*e-e+1,8)),3);return t.characters.map((function(e,t){return new c.default(e,r[t])}))}},992:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(782)),o=function(){function e(e){this.values=a.default,this.currentTheme=e,this.index=this.values.indexOf(e)}return e.prototype.next=function(){return++this.index,this.index===this.values.length&&(this.index=0),this.currentTheme=this.values[this.index],this.currentTheme},e}();t.default=o},782:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["prairie","desert","arctic","mountain"]},605:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.positionedCharacterToClassType=t.characterToClassType=t.randomElementFromArray=t.dealDamage=t.calcHealthLevel=t.calcTileType=void 0;var a=r(460),o=n(r(212)),i=n(r(164)),l=n(r(418)),s=n(r(52)),c=n(r(590)),u=n(r(732)),h=n(r(127));function d(e){var t=[i.default,l.default,s.default,c.default,u.default,h.default],r=t.findIndex((function(t){return t.name.toLowerCase()===e.type})),n=new t[r](e.level);return n.level=e.level,n.health=e.health,n.attack=e.attack,n.defence=e.defence,n}t.calcTileType=function(e,t){switch(!0){case 0===e:return"top-left";case e===t-1:return"top-right";case e===Math.pow(t,2)-t:return"bottom-left";case e===Math.pow(t,2)-1:return"bottom-right";case(0,a.range)(1,t-1).includes(e):return"top";case(0,a.range)(Math.pow(t,2)-t+1,Math.pow(t,2)-1).includes(e):return"bottom";case(0,a.range)(t,Math.pow(t,2)-t,t).includes(e):return"left";case(0,a.range)(2*t-1,Math.pow(t,2)-1,t).includes(e):return"right";default:return"center"}},t.calcHealthLevel=function(e){return e<15?"critical":e<50?"normal":"high"},t.dealDamage=function(e,t){return Math.max(e.attack-t.defence,.1*e.attack)},t.randomElementFromArray=function(e){return e[Math.floor(Math.random()*e.length)]},t.characterToClassType=d,t.positionedCharacterToClassType=function(e){var t=d(e.character);return new o.default(t,e.position)}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r(866)}();